00:00 [32m+0[0m: [1m[90mloading test/mocks/mock_integration_test.dart[0m[0m                                                                                                                                                00:00 [32m+0[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration InMemoryDatastore works as expected[0m                                                                                   00:00 [32m+1[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration InMemoryDatastore works as expected[0m                                                                                   00:00 [32m+2[0m: test/mocks/mock_block_store_test.dart: MockBlockStore putBlock returns success and records call[0m                                                                                              00:00 [32m+3[0m: test/mocks/mock_block_store_test.dart: MockBlockStore putBlock returns success and records call[0m                                                                                              00:00 [32m+4[0m: test/mocks/mock_block_store_test.dart: MockBlockStore putBlock returns success and records call[0m                                                                                              00:00 [32m+5[0m: test/mocks/in_memory_datastore_test.dart: InMemoryDatastore initializes and closes correctly[0m                                                                                                 00:00 [32m+6[0m: test/mocks/in_memory_datastore_test.dart: InMemoryDatastore initializes and closes correctly[0m                                                                                                 00:00 [32m+7[0m: test/mocks/mock_block_store_test.dart: MockBlockStore getBlock returns block if exists[0m                                                                                                       00:00 [32m+8[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                       00:00 [32m+9[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                       00:00 [32m+10[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+11[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+12[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+13[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+14[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+15[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+16[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+17[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+18[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+19[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+20[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+21[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+22[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+23[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+24[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+25[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+26[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+27[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+28[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+29[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                      00:00 [32m+29[0m[31m -1[0m: [1m[90mloading test/transport/circuit_relay_service_test.dart[0m [1m[31m[E][0m[0m                                                                                                                               
  [31mFailed to load "test/transport/circuit_relay_service_test.dart":[0m
  test/transport/circuit_relay_service_test.dart:28:16: Error: The method 'MockP2plibRouter.sendMessage' has fewer named arguments than those of overridden method 'P2plibRouter.sendMessage'.
    Future<void> sendMessage(String peerId, Uint8List message) async {
                 ^
  lib/src/transport/router_impl_io.dart:387:16: Context: This is the overridden method ('sendMessage').
    Future<void> sendMessage(
                 ^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/transport/circuit_relay_service_test.dart -p vm --plain-name 'loading test/transport/circuit_relay_service_test.dart'
00:00 [32m+29[0m[31m -1[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+30[0m[31m -1[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+30[0m[31m -2[0m: [1m[90mloading test/core/ipfs_node_online_test.dart[0m [1m[31m[E][0m[0m                                                                                                                                         
  [31mFailed to load "test/core/ipfs_node_online_test.dart":[0m
  test/core/ipfs_node_online_test.dart:74:36: Error: Superclass has no constructor named 'P2plibRouter.internal'.
    MockP2plibRouter(super.config) : super.internal();
                                     ^^^^^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/core/ipfs_node_online_test.dart -p vm --plain-name 'loading test/core/ipfs_node_online_test.dart'
00:00 [32m+31[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+32[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+33[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+34[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+35[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+36[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+37[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+38[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+39[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+40[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+41[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+42[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+43[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+44[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+45[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+46[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+47[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+48[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+49[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+50[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+51[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+52[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+53[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+54[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+55[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+56[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+57[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+58[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+59[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+60[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+61[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+62[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+63[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+64[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+65[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+66[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+67[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+68[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration MockDHTHandler simulates delays[0m                                                                                   00:00 [32m+69[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore unlock/lock unlocks keystore with password[0m                                                                              00:00 [32m+70[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore unlock/lock unlocks keystore with password[0m                                                                              00:00 [32m+71[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore unlock/lock unlocks keystore with password[0m                                                                              00:00 [32m+72[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore unlock/lock unlocks keystore with password[0m                                                                              00:00 [32m+73[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore unlock/lock unlocks keystore with password[0m                                                                              00:00 [32m+74[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Mock Infrastructure Integration InMemoryDatastore pin functionality via key prefix[0m                                                                00:00 [32m+75[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer generateKeyPair generates valid key pair[0m                                                                                        00:00 [32m+76[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer generateKeyPair generates valid key pair[0m                                                                                        00:00 [32m+77[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer generateKeyPair generates valid key pair[0m                                                                                        00:00 [32m+78[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer generateKeyPair generates valid key pair[0m                                                                                        00:00 [32m+79[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer generateKeyPair generates valid key pair[0m                                                                                        00:00 [32m+80[0m[31m -2[0m: test/mocks/mock_integration_test.dart: Test Helpers generateTestPrivateKey creates a key[0m                                                                                                 00:00 [32m+81[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore generateKey generates and stores encrypted key[0m                                                                          00:00 [32m+82[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+83[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+84[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+85[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+86[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+87[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+88[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey derives consistent key from password and salt[0m                                                                             00:00 [32m+89[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer sign and verify signs data and verifies signature[0m                                                                               00:00 [32m+90[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getKey retrieves decrypted key pair[0m                                                                                     00:00 [32m+91[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+92[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+93[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+94[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+95[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+96[0m[31m -2[0m: test/core/data_structures/directory_test.dart: IPFSDirectoryManager build creates a directory node with minimal data[0m                                                                     00:00 [32m+97[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer sign and verify fails to verify with wrong public key[0m                                                                           00:00 [32m+98[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore importSeed imports seed and stores encrypted[0m                                                                            00:00 [32m+99[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore importSeed imports seed and stores encrypted[0m                                                                            00:00 [32m+100[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey supports custom key length[0m                                                                                               00:00 [32m+101[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey supports custom key length[0m                                                                                               00:00 [32m+102[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils deriveKey supports custom key length[0m                                                                                               00:00 [32m+103[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore importSeed rejects wrong length seed[0m                                                                                   00:00 [32m+104[0m[31m -2[0m: test/core/crypto/ed25519_signer_test.dart: Ed25519Signer keyPairFromSeed recovers key pair from seed[0m                                                                                    00:00 [32m+105[0m[31m -2[0m: test/core/crypto/crypto_utils_test.dart: CryptoUtils encrypt/decrypt encrypts and decrypts data correctly[0m                                                                               00:00 [32m+106[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+107[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+108[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+109[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+110[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+111[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+112[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+113[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+114[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+115[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+116[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+117[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+118[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+119[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+120[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize serializes and deserializes keystore[0m                                                             00:00 [32m+121[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Block Creation creates block from CID and data[0m                                                           00:00 [32m+122[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize loadAndUnlock restores functional keystore[0m                                                       00:00 [32m+123[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore serialize/deserialize loadAndUnlock restores functional keystore[0m                                                       00:00 [32m+124[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Block Creation fromData with different data creates different blocks[0m                                     00:00 [32m+125[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+126[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+127[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+128[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+129[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+130[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+131[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+132[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore keyNames and hasKey lists all key names[0m                                                                                00:00 [32m+133[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Edge Cases handles large data[0m                                                                            00:00 [32m+134[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Edge Cases handles large data[0m                                                                            00:00 [32m+135[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns public key without requiring unlock[0m                                                               00:00 [32m+136[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns public key without requiring unlock[0m                                                               00:00 [32m+137[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns public key without requiring unlock[0m                                                               00:00 [32m+138[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Data Integrity data stored matches data retrieved[0m                                                        00:00 [32m+139[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns null for non-existent key[0m                                                                         00:00 [32m+140[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns null for non-existent key[0m                                                                         00:00 [32m+141[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns null for non-existent key[0m                                                                         00:00 [32m+142[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns null for non-existent key[0m                                                                         00:00 [32m+143[0m[31m -2[0m: test/core/crypto/encrypted_keystore_test.dart: EncryptedKeystore getPublicKey returns null for non-existent key[0m                                                                         00:00 [32m+144[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Concurrent Operations concurrent block creation[0m                                                          00:00 [32m+145[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Concurrent Operations concurrent block creation[0m                                                          00:00 [32m+145[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Concurrent Operations concurrent blocks have unique CIDs[0m                                                 00:00 [32m+146[0m[31m -2[0m: test/core/data_structures/block_verified_test.dart: Block - Verified API Tests Concurrent Operations concurrent blocks have unique CIDs[0m                                                 00:00 [32m+146[0m[31m -2[0m: [1m[90mloading test/core/types/peer_id_test.dart[0m[0m                                                                                                                                               00:00 [32m+146[0m[31m -2[0m: test/core/types/peer_id_test.dart: PeerId PoW verifyPoW should accept PeerId with enough leading zeros[0m                                                                                  00:00 [32m+147[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage creates message with all fields[0m                                                                          00:00 [32m+148[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage creates message with all fields[0m                                                                          00:00 [32m+149[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage creates message with all fields[0m                                                                          00:00 [32m+150[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage creates message with all fields[0m                                                                          00:00 [32m+150[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage sets timestamp[0m                                                                                           00:00 [32m+151[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage sets timestamp[0m                                                                                           00:00 [32m+151[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage handles empty payload[0m                                                                                    00:00 [32m+152[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage handles empty payload[0m                                                                                    00:00 [32m+152[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage handles different message types[0m                                                                          00:00 [32m+153[0m[31m -2[0m: test/core/messages/message_factory_test.dart: MessageFactory createBaseMessage handles different message types[0m                                                                          00:00 [32m+153[0m[31m -2[0m: [1m[90mloading test/core/types/peer_types_test.dart[0m[0m                                                                                                                                            00:00 [32m+153[0m[31m -2[0m: test/core/types/peer_types_test.dart: IPFSPeer fromKadPeer parses binary addresses (TODO case)[0m                                                                                          00:00 [32m+154[0m[31m -2[0m: test/core/types/peer_types_test.dart: IPFSPeer fromKadPeer parses binary addresses (TODO case)[0m                                                                                          00:00 [32m+154[0m[31m -2[0m: test/core/types/peer_types_test.dart: IPFSPeer toKadPeer converts addresses to binary (TODO case)[0m                                                                                       00:00 [32m+155[0m[31m -2[0m: test/core/types/peer_types_test.dart: IPFSPeer toKadPeer converts addresses to binary (TODO case)[0m                                                                                       00:00 [32m+155[0m[31m -2[0m: [1m[90mloading test/core/errors_test.dart[0m[0m                                                                                                                                                      00:00 [32m+155[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDEncodingError[0m                                                                                                                               00:00 [32m+156[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDEncodingError[0m                                                                                                                               00:00 [32m+156[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDDecodingError[0m                                                                                                                               00:00 [32m+157[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDDecodingError[0m                                                                                                                               00:01 [32m+157[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDResolutionError[0m                                                                                                                             00:01 [32m+158[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDResolutionError[0m                                                                                                                             00:01 [32m+158[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDStorageError[0m                                                                                                                                00:01 [32m+159[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDStorageError[0m                                                                                                                                00:01 [32m+159[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDValidationError[0m                                                                                                                             00:01 [32m+160[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDValidationError[0m                                                                                                                             00:01 [32m+160[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDLinkError[0m                                                                                                                                   00:01 [32m+161[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDLinkError[0m                                                                                                                                   00:01 [32m+161[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDSchemaError[0m                                                                                                                                 00:01 [32m+162[0m[31m -2[0m: test/core/errors_test.dart: IPLD Errors IPLDSchemaError[0m                                                                                                                                 00:01 [32m+162[0m[31m -2[0m: [1m[90mloading test/core/config/config_test.dart[0m[0m                                                                                                                                               00:01 [32m+162[0m[31m -2[0m: test/core/config/config_test.dart: MetricsConfig defaults[0m                                                                                                                               00:01 [32m+163[0m[31m -2[0m: test/core/config/config_test.dart: MetricsConfig defaults[0m                                                                                                                               00:01 [32m+163[0m[31m -2[0m: test/core/config/config_test.dart: MetricsConfig fromJson/toJson[0m                                                                                                                        00:01 [32m+164[0m[31m -2[0m: test/core/config/config_test.dart: MetricsConfig fromJson/toJson[0m                                                                                                                        00:01 [32m+164[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig defaults[0m                                                                                                                               00:01 [32m+165[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig defaults[0m                                                                                                                               00:01 [32m+165[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig helpers[0m                                                                                                                                00:01 [32m+166[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig helpers[0m                                                                                                                                00:01 [32m+166[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig fromJson/toJson[0m                                                                                                                        00:01 [32m+167[0m[31m -2[0m: test/core/config/config_test.dart: StorageConfig fromJson/toJson[0m                                                                                                                        00:01 [32m+167[0m[31m -2[0m: test/core/config/config_test.dart: NetworkConfig defaults[0m                                                                                                                               00:01 [32m+168[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig defaults are correct[0m                                                                                                           00:01 [32m+169[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig defaults are correct[0m                                                                                                           00:01 [32m+170[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig defaults are correct[0m                                                                                                           00:01 [32m+171[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig defaults are correct[0m                                                                                                           00:01 [32m+172[0m[31m -2[0m: test/core/config/config_test.dart: IPFSConfig fromJson/toJson[0m                                                                                                                           00:01 [32m+173[0m[31m -2[0m: test/core/config/config_test.dart: IPFSConfig fromJson/toJson[0m                                                                                                                           00:01 [32m+174[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig toJson and fromJson work correctly[0m                                                                                             00:01 [32m+175[0m[31m -2[0m: test/core/config/network_config_test.dart: NetworkConfig toJson and fromJson work correctly[0m                                                                                             00:01 [32m+175[0m[31m -2[0m: [1m[90mloading test/core/security/security_manager_web_test.dart[0m[0m                                                                                                                               00:01 [32m+175[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               00:01 [32m+175[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               
2026-01-07T19:34:46.404385 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+176[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               00:01 [32m+177[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               00:01 [32m+178[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          00:01 [32m+179[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          00:01 [32m+180[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          00:01 [32m+181[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          00:01 [32m+182[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          00:01 [32m+182[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               
2026-01-07T19:34:46.418189 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+182[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.427569 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:46.436262 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:46.437510 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:46.438784 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
00:01 [32m+183[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+183[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.447912 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:46.461606 [FINE] [MetricsCollector] [VERBOSE] Recorded protocol metrics for bitswap
00:01 [32m+184[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+184[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.472553 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+184[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+185[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+185[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.513872 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+186[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+186[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.519965 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:46.523390 [FINE] [MetricsCollector] [VERBOSE] Recorded error for lookup: timeout
00:01 [32m+187[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+188[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+188[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.527967 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+189[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+190[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+191[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+191[0m[31m -2[0m: test/core/metrics_test.dart: MetricsCollector should initialize and start/stop[0m                                                                                                          
2026-01-07T19:34:46.531582 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:46.531720 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:46.531765 [INFO] [MetricsCollector] [INFO] Metrics collection disabled in config
2026-01-07T19:34:46.531920 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
00:01 [32m+192[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+193[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+194[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+195[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+196[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+197[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+198[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+199[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+200[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+201[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+202[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+203[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+204[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+205[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+206[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+207[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+208[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+209[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+210[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+211[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+212[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+213[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+214[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+215[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+216[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+217[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+218[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+219[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+220[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+221[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+222[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+223[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+224[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+225[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+226[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+227[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+228[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+229[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+230[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+231[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+232[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+233[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+234[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+235[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+236[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+237[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+238[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+239[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+240[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+240[0m[31m -2[0m: test/core/ipfs_node/node_handlers_test.dart: RoutingHandler start/stop delegates to ContentRouting[0m                                                                                      
2026-01-07T19:34:46.751517 [INFO] [MDNSHandler] [INFO] MDNSHandler started successfully
2026-01-07T19:34:46.756426 [INFO] [MDNSHandler] [INFO] MDNSHandler stopped successfully
00:01 [32m+241[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+241[0m[31m -2[0m: test/core/ipfs_node/bootstrap_handler_test.dart: BootstrapHandler start and stop lifecycle works correctly[0m                                                                              
2026-01-07T19:34:46.758913 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
00:01 [32m+241[0m[31m -2[0m: test/core/ipfs_node/node_handlers_test.dart: RoutingHandler start/stop delegates to ContentRouting[0m                                                                                      
2026-01-07T19:34:46.762295 [INFO] [MDNSHandler] [INFO] MDNSHandler started successfully
00:01 [32m+241[0m[31m -2[0m: test/core/ipfs_node/bootstrap_handler_test.dart: BootstrapHandler start and stop lifecycle works correctly[0m                                                                              
2026-01-07T19:34:46.762611 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:46.762739 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:46.762831 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:46.762899 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
00:01 [32m+242[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+242[0m[31m -2[0m: test/core/ipfs_node/bootstrap_handler_test.dart: BootstrapHandler start and stop lifecycle works correctly[0m                                                                              
2026-01-07T19:34:46.763063 [FINE] [BootstrapHandler] [DEBUG] Creating new BootstrapHandler instance
2026-01-07T19:34:46.763199 [FINE] [BootstrapHandler] [DEBUG] Starting BootstrapHandler...
2026-01-07T19:34:46.763521 [FINE] [BootstrapHandler] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:46.763894 [FINE] [BootstrapHandler] [VERBOSE] Setting up bootstrap peer reconnection timer
2026-01-07T19:34:46.764275 [INFO] [BootstrapHandler] [INFO] BootstrapHandler started successfully
2026-01-07T19:34:46.766992 [FINE] [BootstrapHandler] [DEBUG] Stopping BootstrapHandler...
00:01 [32m+242[0m[31m -2[0m: test/core/ipfs_node/node_handlers_test.dart: RoutingHandler start/stop delegates to ContentRouting[0m                                                                                      
2026-01-07T19:34:46.767172 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
00:01 [32m+242[0m[31m -2[0m: test/core/ipfs_node/bootstrap_handler_test.dart: BootstrapHandler start and stop lifecycle works correctly[0m                                                                              
2026-01-07T19:34:46.767298 [INFO] [BootstrapHandler] [INFO] BootstrapHandler stopped successfully
00:01 [32m+242[0m[31m -2[0m: test/core/ipfs_node/node_handlers_test.dart: RoutingHandler start/stop delegates to ContentRouting[0m                                                                                      
2026-01-07T19:34:46.767644 [INFO] [NatTraversalService] [INFO] Removing port mappings for port 4001...
2026-01-07T19:34:46.767719 [INFO] [AutoNATHandler] [INFO] AutoNATHandler stopped successfully
00:01 [32m+242[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+243[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+244[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+245[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+245[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler findProviders returns DHT providers if found[0m                                                               
2026-01-07T19:34:46.782621 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
2026-01-07T19:34:46.786397 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:46.786525 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:46.786630 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:46.786702 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:46.787880 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler instance created
2026-01-07T19:34:46.788165 [FINE] [ContentRoutingHandler] [DEBUG] Finding providers for CID: QmCID
2026-01-07T19:34:46.788422 [FINE] [ContentRoutingHandler] [VERBOSE] Attempting DHT-based provider lookup
2026-01-07T19:34:46.788964 [FINE] [ContentRoutingHandler] [DEBUG] Found 2 providers via DHT
00:01 [32m+246[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+246[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler findProviders returns DHT providers if found[0m                                                               
2026-01-07T19:34:46.797283 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
2026-01-07T19:34:46.797507 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:46.797633 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:46.797732 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:46.797845 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:46.798500 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler instance created
2026-01-07T19:34:46.798623 [FINE] [ContentRoutingHandler] [DEBUG] Finding providers for CID: QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG
2026-01-07T19:34:46.798666 [FINE] [ContentRoutingHandler] [VERBOSE] Attempting DHT-based provider lookup
2026-01-07T19:34:46.798716 [FINE] [ContentRoutingHandler] [VERBOSE] DHT lookup failed, trying delegated routing
2026-01-07T19:34:46.801744 [FINE] [ContentRoutingHandler] [DEBUG] Found 1 providers via delegated routing
00:01 [32m+247[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+247[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler findProviders returns DHT providers if found[0m                                                               
2026-01-07T19:34:46.806255 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
2026-01-07T19:34:46.806343 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:46.806394 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:46.806451 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:46.806503 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:46.806656 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler instance created
2026-01-07T19:34:46.806788 [FINE] [ContentRoutingHandler] [DEBUG] Resolving DNSLink for domain: example.com
2026-01-07T19:34:46.806826 [FINE] [ContentRoutingHandler] [VERBOSE] Attempting direct DNSLink resolution
00:01 [32m+247[0m[31m -2[0m: test/core/ipfs_node/auto_nat_handler_test.dart: AutoNATHandler start detects NAT and attempts port mapping[0m                                                                              
2026-01-07T19:34:46.806941 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
2026-01-07T19:34:46.810932 [FINE] [AutoNATHandler] [DEBUG] Starting AutoNATHandler...
2026-01-07T19:34:46.811067 [FINE] [AutoNATHandler] [DEBUG] Detecting NAT type...
2026-01-07T19:34:46.812060 [FINE] [AutoNATHandler] [DEBUG] NAT type detected: NATType.restricted
2026-01-07T19:34:46.812254 [FINE] [AutoNATHandler] [DEBUG] Attempting UPnP/NAT-PMP port mapping...
2026-01-07T19:34:46.812532 [FINE] [AutoNATHandler] [DEBUG] Identified listening port: 4001
2026-01-07T19:34:46.812913 [INFO] [AutoNATHandler] [INFO] Port mapping successful for protocols: TCP, UDP
2026-01-07T19:34:46.813565 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.813916 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
2026-01-07T19:34:46.814012 [FINE] [AutoNATHandler] [VERBOSE] Starting periodic dialback tests
2026-01-07T19:34:46.814425 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.814543 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
2026-01-07T19:34:46.815774 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
00:01 [32m+248[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+248[0m[31m -2[0m: test/core/ipfs_node/auto_nat_handler_test.dart: AutoNATHandler start detects NAT and attempts port mapping[0m                                                                              
2026-01-07T19:34:46.820515 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
2026-01-07T19:34:46.820636 [FINE] [AutoNATHandler] [DEBUG] Starting AutoNATHandler...
2026-01-07T19:34:46.820681 [FINE] [AutoNATHandler] [DEBUG] Detecting NAT type...
2026-01-07T19:34:46.820746 [FINE] [AutoNATHandler] [DEBUG] NAT type detected: NATType.restricted
2026-01-07T19:34:46.820799 [FINE] [AutoNATHandler] [DEBUG] Attempting UPnP/NAT-PMP port mapping...
2026-01-07T19:34:46.821007 [FINE] [AutoNATHandler] [DEBUG] Identified listening port: 4001
2026-01-07T19:34:46.821081 [INFO] [AutoNATHandler] [INFO] Port mapping successful for protocols: TCP, UDP
2026-01-07T19:34:46.821123 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.821165 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
2026-01-07T19:34:46.821226 [FINE] [AutoNATHandler] [VERBOSE] Starting periodic dialback tests
2026-01-07T19:34:46.821261 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.821292 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
2026-01-07T19:34:46.821388 [FINE] [AutoNATHandler] [DEBUG] Stopping AutoNATHandler...
2026-01-07T19:34:46.821466 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
2026-01-07T19:34:46.821500 [INFO] [AutoNATHandler] [INFO] AutoNATHandler stopped successfully
00:01 [32m+249[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+249[0m[31m -2[0m: test/core/ipfs_node/auto_nat_handler_test.dart: AutoNATHandler start detects NAT and attempts port mapping[0m                                                                              
2026-01-07T19:34:46.824262 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
2026-01-07T19:34:46.825953 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
2026-01-07T19:34:46.826036 [FINE] [AutoNATHandler] [DEBUG] Starting AutoNATHandler...
2026-01-07T19:34:46.826073 [FINE] [AutoNATHandler] [DEBUG] Detecting NAT type...
2026-01-07T19:34:46.826137 [FINE] [AutoNATHandler] [DEBUG] NAT type detected: NATType.restricted
2026-01-07T19:34:46.826173 [FINE] [AutoNATHandler] [DEBUG] Attempting UPnP/NAT-PMP port mapping...
2026-01-07T19:34:46.826214 [FINE] [AutoNATHandler] [DEBUG] Identified listening port: 8080
2026-01-07T19:34:46.826254 [INFO] [AutoNATHandler] [INFO] Port mapping successful for protocols: TCP, UDP
2026-01-07T19:34:46.826287 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.826322 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
2026-01-07T19:34:46.826359 [FINE] [AutoNATHandler] [VERBOSE] Starting periodic dialback tests
2026-01-07T19:34:46.826394 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:46.826425 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
2026-01-07T19:34:46.826471 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: true
00:01 [32m+250[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+251[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+252[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+253[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+254[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+255[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should unlock with password[0m                                                                                       00:01 [32m+256[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+256[0m[31m -2[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               
2026-01-07T19:34:46.867942 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+257[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+258[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+259[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+260[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+261[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+262[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+263[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+264[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+265[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+266[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+267[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+268[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+269[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+270[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+271[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+272[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+273[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+274[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+275[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+276[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+277[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+278[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+279[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+280[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+281[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+282[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+283[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+284[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+285[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+286[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+287[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+288[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+289[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+290[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+291[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+292[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+293[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+294[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+295[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+296[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+297[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+298[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+299[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+300[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+301[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+302[0m[31m -2[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+302[0m[31m -3[0m: [1m[90mloading test/core/network_handler_test.dart[0m [1m[31m[E][0m[0m                                                                                                                                         
  [31mFailed to load "test/core/network_handler_test.dart":[0m
  test/core/network_handler_test.dart:10:36: Error: Superclass has no constructor named 'P2plibRouter.internal'.
    MockP2plibRouter(super.config) : super.internal();
                                     ^^^^^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/core/network_handler_test.dart -p vm --plain-name 'loading test/core/network_handler_test.dart'
00:01 [32m+302[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+303[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+304[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+305[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+306[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+307[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+308[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+309[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+310[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+311[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+311[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should start locked[0m                                                                                               
2026-01-07T19:34:47.131108 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+312[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+312[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.166836 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.172774 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:47.173020 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:47.173776 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
2026-01-07T19:34:47.174794 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.175111 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:01 [32m+313[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+313[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.177716 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.177990 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:47.178040 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:47.178101 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
00:01 [32m+313[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+313[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.184617 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.184717 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:01 [32m+314[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+314[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.187705 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.188525 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
00:01 [32m+315[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+315[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.188603 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:47.188670 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
00:01 [32m+316[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+317[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+317[0m[31m -3[0m: test/core/ipfs_node_test.dart: IPFSNode Offline Tests should initialize and start in offline mode[0m                                                                                       
2026-01-07T19:34:47.191335 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.191417 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:01 [32m+318[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+319[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+320[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+321[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+322[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+323[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+324[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+325[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+326[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+327[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+328[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+329[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+329[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.282422 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.285960 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.286054 [FINE] [P2plibRouter] [VERBOSE] Initializing crypto components
00:01 [32m+329[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler resolveDNSLink falls back to DHT if DNS fails[0m                                                              00:01 [32m+329[0m[31m -3[0m: test/core/ipfs_node/content_routing_handler_test.dart: ContentRoutingHandler findProviders returns DHT providers if found[0m                                                               
2026-01-07T19:34:47.292982 [FINE] [ContentRoutingHandler] [VERBOSE] DNS resolution failed, trying DHT-based resolution
2026-01-07T19:34:47.293140 [FINE] [ContentRoutingHandler] [DEBUG] Resolved DNSLink via DHT: QmResolved
00:01 [32m+330[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:01 [32m+330[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
🧪 IPFS Protocol Compliance Test

Testing: CID, Kademlia DHT, Bitswap, UnixFS, DAG-PB
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Test 1: CID v0...
  ✅ CID v0 PASS

Test 2: CID v1...
00:01 [32m+330[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.303433 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
00:01 [32m+330[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
  ✅ CID v1 PASS

Test 3: Kademlia DHT message...
00:01 [32m+330[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.307553 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:47.307695 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:47.307793 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:47.307867 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:47.307972 [FINE] [NetworkHandler] [VERBOSE] Starting dialback test
2026-01-07T19:34:47.309363 [FINE] [NetworkHandler] [DEBUG] Dialback test completed successfully
00:01 [32m+330[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.311090 [FINE] [P2plibRouter] [VERBOSE] Crypto components initialized successfully
2026-01-07T19:34:47.311313 [FINE] [P2plibRouter] [VERBOSE] Initializing router with peer ID
00:01 [32m+331[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:01 [32m+331[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
  ✅ Kademlia PASS

Test 4: Bitswap 1.2.0 message...
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.315256 [FINE] [P2plibRouter] [VERBOSE] Router initialized with peer ID: 2hiu29zVMzqExvs3mWSqqNCnm5LaurTCYNQJwBHnDbEcENuPkBGwyzMP88FWKug3r7YV7d5X1YajHMoqxp5AGuMz
2026-01-07T19:34:47.315451 [FINE] [P2plibRouter] [DEBUG] P2plibRouter initialization complete
00:01 [32m+331[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
  ✅ Bitswap PASS

Test 5: UnixFS data structure...
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.316126 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.316225 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
00:01 [32m+331[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
  ✅ UnixFS PASS

Test 6: DAG-PB (MerkleDAG)...
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.316359 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.316432 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.316721 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.316731 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.316767 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.316921 [FINE] [AutoNATHandler] [DEBUG] Starting AutoNATHandler...
2026-01-07T19:34:47.317056 [FINE] [AutoNATHandler] [DEBUG] Detecting NAT type...
00:01 [32m+331[0m[31m -3[0m: [1m[90mloading test/protocol_test.dart[0m[0m                                                                                                                                                         
  ✅ DAG-PB PASS

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Results: 6 passed, 0 failed

🎉 ALL TESTS PASSED!
✅ IPFS Protocol Standardization Verified!

00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.318537 [FINE] [AutoNATHandler] [DEBUG] NAT type detected: NATType.restricted
2026-01-07T19:34:47.318752 [FINE] [AutoNATHandler] [DEBUG] Attempting UPnP/NAT-PMP port mapping...
2026-01-07T19:34:47.319027 [FINE] [AutoNATHandler] [DEBUG] Identified listening port: 5001
2026-01-07T19:34:47.319333 [INFO] [AutoNATHandler] [INFO] Port mapping successful for protocols: TCP, UDP
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.319346 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.319424 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:47.319652 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: false
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.319865 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.319911 [FINE] [AutoNATHandler] [VERBOSE] Starting periodic dialback tests
00:01 [32m+331[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.319989 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.320047 [FINE] [P2plibRouter] [DEBUG] Starting router...
00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.320649 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:47.320823 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
00:01 [32m+331[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:01 [32m+331[0m[31m -3[0m: test/integration/full_nat_test.dart: Full NAT Integration Test NetworkHandler.testDialback correctly extracts PeerID from Multiaddr (Fix Verification)[0m                                  
2026-01-07T19:34:47.321226 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: false
2026-01-07T19:34:47.321485 [FINE] [AutoNATHandler] [DEBUG] Stopping AutoNATHandler...
2026-01-07T19:34:47.321665 [INFO] [AutoNATHandler] [INFO] AutoNATHandler stopped successfully
00:01 [32m+332[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:01 [32m+332[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.325159 [FINE] [P2plibRouter] [VERBOSE] Router started successfully
2026-01-07T19:34:47.325346 [FINE] [P2plibRouter] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:47.325405 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN
2026-01-07T19:34:47.326675 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN (Protocol Mismatch)
2026-01-07T19:34:47.326736 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa
2026-01-07T19:34:47.326873 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa (Protocol Mismatch)
2026-01-07T19:34:47.326914 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb
2026-01-07T19:34:47.327032 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb (Protocol Mismatch)
2026-01-07T19:34:47.327080 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt
2026-01-07T19:34:47.327274 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt (Protocol Mismatch)
2026-01-07T19:34:47.327551 [FINE] [BitswapHandler] [DEBUG] Starting BitswapHandler...
2026-01-07T19:34:47.327596 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.327636 [FINE] [BitswapHandler] [VERBOSE] Router initialized
2026-01-07T19:34:47.327668 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.327700 [FINE] [BitswapHandler] [VERBOSE] Router started
2026-01-07T19:34:47.327768 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.327865 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/bitswap/1.2.0 already registered
2026-01-07T19:34:47.327952 [INFO] [BitswapHandler] [INFO] BitswapHandler started successfully
2026-01-07T19:34:47.328122 [FINE] [P2plibRouter] [DEBUG] Registered protocol: pubsub
2026-01-07T19:34:47.328785 [INFO] [PubSubClient] [INFO] PubSub client started with peer ID: 2hiu29zVMzqExvs3mWSqqNCnm5LaurTCYNQJwBHnDbEcENuPkBGwyzMP88FWKug3r7YV7d5X1YajHMoqxp5AGuMz
2026-01-07T19:34:47.330926 [INFO] [PubSubClient] [INFO] PubSub client stopped.
00:01 [32m+333[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:01 [32m+333[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.336194 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.336257 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.336290 [FINE] [P2plibRouter] [VERBOSE] Initializing crypto components
2026-01-07T19:34:47.338216 [FINE] [P2plibRouter] [VERBOSE] Crypto components initialized successfully
2026-01-07T19:34:47.338272 [FINE] [P2plibRouter] [VERBOSE] Initializing router with peer ID
2026-01-07T19:34:47.339814 [FINE] [P2plibRouter] [VERBOSE] Router initialized with peer ID: hsqKf1117MrooonFdCtJLYF9BeDmzwLeHFAcumQdzX9n4iDVTd7SjkNvV3TMQJcPsLtkgqLZTXPwHakNRGZZEjD
2026-01-07T19:34:47.339859 [FINE] [P2plibRouter] [DEBUG] P2plibRouter initialization complete
2026-01-07T19:34:47.339911 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.339943 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.339978 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.340010 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.340044 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.340075 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.340401 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.340448 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.340479 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.340508 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.340799 [FINE] [P2plibRouter] [VERBOSE] Router started successfully
2026-01-07T19:34:47.340839 [FINE] [P2plibRouter] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:47.340869 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN
2026-01-07T19:34:47.340990 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN (Protocol Mismatch)
2026-01-07T19:34:47.341028 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa
2026-01-07T19:34:47.341107 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa (Protocol Mismatch)
2026-01-07T19:34:47.341140 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb
2026-01-07T19:34:47.341213 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb (Protocol Mismatch)
2026-01-07T19:34:47.341246 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt
2026-01-07T19:34:47.341319 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt (Protocol Mismatch)
2026-01-07T19:34:47.341354 [FINE] [BitswapHandler] [DEBUG] Starting BitswapHandler...
2026-01-07T19:34:47.341382 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.341419 [FINE] [BitswapHandler] [VERBOSE] Router initialized
2026-01-07T19:34:47.341446 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.341514 [FINE] [BitswapHandler] [VERBOSE] Router started
2026-01-07T19:34:47.341545 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.341576 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/bitswap/1.2.0 already registered
2026-01-07T19:34:47.341603 [INFO] [BitswapHandler] [INFO] BitswapHandler started successfully
2026-01-07T19:34:47.341634 [FINE] [P2plibRouter] [DEBUG] Registered protocol: pubsub
2026-01-07T19:34:47.341764 [INFO] [PubSubClient] [INFO] PubSub client started with peer ID: hsqKf1117MrooonFdCtJLYF9BeDmzwLeHFAcumQdzX9n4iDVTd7SjkNvV3TMQJcPsLtkgqLZTXPwHakNRGZZEjD
2026-01-07T19:34:47.362668 [INFO] [PubSubClient] [INFO] PubSub client stopped.
00:02 [32m+334[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+334[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.364334 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.364402 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.364436 [FINE] [P2plibRouter] [VERBOSE] Initializing crypto components
2026-01-07T19:34:47.366020 [FINE] [P2plibRouter] [VERBOSE] Crypto components initialized successfully
2026-01-07T19:34:47.366079 [FINE] [P2plibRouter] [VERBOSE] Initializing router with peer ID
2026-01-07T19:34:47.368058 [FINE] [P2plibRouter] [VERBOSE] Router initialized with peer ID: 2VXSTTZiY8XvLWEeHWrhNkYv3DMrEWSGLfq3s2Be5XeCJpccxGaHEAGD3qGiFdLzVf85349pX7p5YwdW5xF25BcX
2026-01-07T19:34:47.368129 [FINE] [P2plibRouter] [DEBUG] P2plibRouter initialization complete
2026-01-07T19:34:47.368319 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.368502 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.368581 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.368620 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.368655 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.368688 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.368924 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.368971 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.369005 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.369037 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.369283 [FINE] [P2plibRouter] [VERBOSE] Router started successfully
2026-01-07T19:34:47.369321 [FINE] [P2plibRouter] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:47.369398 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN
2026-01-07T19:34:47.369535 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN (Protocol Mismatch)
2026-01-07T19:34:47.369577 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa
2026-01-07T19:34:47.369791 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa (Protocol Mismatch)
2026-01-07T19:34:47.369833 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb
2026-01-07T19:34:47.369917 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb (Protocol Mismatch)
2026-01-07T19:34:47.370028 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt
2026-01-07T19:34:47.370109 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt (Protocol Mismatch)
2026-01-07T19:34:47.370145 [FINE] [BitswapHandler] [DEBUG] Starting BitswapHandler...
2026-01-07T19:34:47.370174 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.370205 [FINE] [BitswapHandler] [VERBOSE] Router initialized
2026-01-07T19:34:47.370236 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.370269 [FINE] [BitswapHandler] [VERBOSE] Router started
2026-01-07T19:34:47.370299 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.370332 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/bitswap/1.2.0 already registered
2026-01-07T19:34:47.370363 [INFO] [BitswapHandler] [INFO] BitswapHandler started successfully
2026-01-07T19:34:47.370395 [FINE] [P2plibRouter] [DEBUG] Registered protocol: pubsub
2026-01-07T19:34:47.370830 [INFO] [PubSubClient] [INFO] PubSub client started with peer ID: 2VXSTTZiY8XvLWEeHWrhNkYv3DMrEWSGLfq3s2Be5XeCJpccxGaHEAGD3qGiFdLzVf85349pX7p5YwdW5xF25BcX
00:02 [32m+334[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+334[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.379651 [INFO] [PubSubClient] [INFO] PubSub client stopped.
00:02 [32m+335[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+335[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.381938 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.382036 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.382071 [FINE] [P2plibRouter] [VERBOSE] Initializing crypto components
2026-01-07T19:34:47.384656 [FINE] [P2plibRouter] [VERBOSE] Crypto components initialized successfully
2026-01-07T19:34:47.384789 [FINE] [P2plibRouter] [VERBOSE] Initializing router with peer ID
00:02 [32m+335[0m[31m -3[0m: test/network/nat_traversal_service_test.dart: NatTraversalService mapPort successfully maps TCP and UDP[0m                                                                                 
2026-01-07T19:34:47.384441 [INFO] [NatTraversalService] [INFO] Attempting to map port 4001 via UPnP/NAT-PMP...
00:02 [32m+335[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.387719 [FINE] [P2plibRouter] [VERBOSE] Router initialized with peer ID: 45TBwRrSsqNMFYtKubszgf6u3Rgbk7KHEyqDk564VAZSmEQ8mnXFz4gdnzMAk3oTSrpiBfDse4gAB63ikNq5SEMX
2026-01-07T19:34:47.387791 [FINE] [P2plibRouter] [DEBUG] P2plibRouter initialization complete
2026-01-07T19:34:47.387846 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.387873 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.387905 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.387933 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.387960 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.387985 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.388207 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.388262 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.388293 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.388322 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.388543 [FINE] [P2plibRouter] [VERBOSE] Router started successfully
2026-01-07T19:34:47.388574 [FINE] [P2plibRouter] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:47.388601 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN
2026-01-07T19:34:47.388703 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN (Protocol Mismatch)
2026-01-07T19:34:47.388736 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa
00:02 [32m+335[0m[31m -3[0m: test/network/nat_traversal_service_test.dart: NatTraversalService mapPort successfully maps TCP and UDP[0m                                                                                 
2026-01-07T19:34:47.388846 [INFO] [NatTraversalService] [INFO] Successfully mapped TCP port 4001
00:02 [32m+335[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.388871 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa (Protocol Mismatch)
00:02 [32m+335[0m[31m -3[0m: test/network/nat_traversal_service_test.dart: NatTraversalService mapPort successfully maps TCP and UDP[0m                                                                                 
2026-01-07T19:34:47.388919 [INFO] [NatTraversalService] [INFO] Successfully mapped UDP port 4001
00:02 [32m+335[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.388998 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb
2026-01-07T19:34:47.389260 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb (Protocol Mismatch)
2026-01-07T19:34:47.389359 [FINE] [P2plibRouter] [VERBOSE] Attempting to connect to bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt
2026-01-07T19:34:47.389577 [WARNING] [P2plibRouter] [WARNING] Skipping incompatible bootstrap peer: /dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt (Protocol Mismatch)
2026-01-07T19:34:47.389658 [FINE] [BitswapHandler] [DEBUG] Starting BitswapHandler...
2026-01-07T19:34:47.389730 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.389792 [FINE] [BitswapHandler] [VERBOSE] Router initialized
2026-01-07T19:34:47.389842 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.389908 [FINE] [BitswapHandler] [VERBOSE] Router started
2026-01-07T19:34:47.389995 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.390054 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/bitswap/1.2.0 already registered
2026-01-07T19:34:47.390106 [INFO] [BitswapHandler] [INFO] BitswapHandler started successfully
2026-01-07T19:34:47.390164 [FINE] [P2plibRouter] [DEBUG] Registered protocol: pubsub
2026-01-07T19:34:47.390416 [INFO] [PubSubClient] [INFO] PubSub client started with peer ID: 45TBwRrSsqNMFYtKubszgf6u3Rgbk7KHEyqDk564VAZSmEQ8mnXFz4gdnzMAk3oTSrpiBfDse4gAB63ikNq5SEMX
00:02 [32m+336[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+336[0m[31m -3[0m: test/network/nat_traversal_service_test.dart: NatTraversalService mapPort successfully maps TCP and UDP[0m                                                                                 
2026-01-07T19:34:47.391615 [INFO] [NatTraversalService] [INFO] Attempting to map port 5001 via UPnP/NAT-PMP...
2026-01-07T19:34:47.392775 [WARNING] [NatTraversalService] [WARNING] Failed to map TCP port 5001
Error: Exception: Mock Gateway Error
Stack trace: null
2026-01-07T19:34:47.392919 [WARNING] [NatTraversalService] [WARNING] Failed to map UDP port 5001
Error: Exception: Mock Gateway Error
Stack trace: null
00:02 [32m+337[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+337[0m[31m -3[0m: test/network/nat_traversal_service_test.dart: NatTraversalService mapPort successfully maps TCP and UDP[0m                                                                                 
2026-01-07T19:34:47.396672 [INFO] [NatTraversalService] [INFO] Removing port mappings for port 4001...
00:02 [32m+338[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+338[0m[31m -3[0m: test/web/ipfs_web_node_test.dart: IPFSWebNode should start and set running state[0m                                                                                                        
2026-01-07T19:34:47.403623 [INFO] [PubSubClient] [INFO] PubSub client stopped.
00:02 [32m+339[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+339[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            
2026-01-07T19:34:47.425716 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:02 [32m+339[0m[31m -3[0m: test/core/security/security_manager_web_test.dart: SecurityManagerWeb should lock and clear keys[0m                                                                                        00:02 [32m+340[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+340[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            
2026-01-07T19:34:47.433653 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:47.434022 [INFO] [MetricsCollector] [INFO] Metrics collection started
00:02 [32m+341[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+341[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            
2026-01-07T19:34:47.449526 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at ./ipfs_data
2026-01-07T19:34:47.449703 [FINE] [IPLDHandler] [DEBUG] Starting IPLDHandler...
2026-01-07T19:34:47.449754 [FINE] [IPLDHandler] [VERBOSE] Initializing IPLD codecs
2026-01-07T19:34:47.449814 [FINE] [IPLDHandler] [DEBUG] IPLDHandler started successfully
2026-01-07T19:34:47.450142 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
00:02 [32m+342[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+343[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+344[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+345[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+346[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+347[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            00:02 [32m+347[0m[31m -3[0m: test/rpc_test.dart: RPC Protocol Tests handleBlockPut should store the block[0m                                                                                                            
Put block with Key: bbkujcbpcwqev4ve4wsqayadcy46xdq3un53jfjy5zxjbjhacngcuddlzx
2026-01-07T19:34:47.474140 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:47.474246 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
2026-01-07T19:34:47.476475 [INFO] [HiveDatastore] [INFO] HiveDatastore closed
2026-01-07T19:34:47.476621 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.476757 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:02 [32m+348[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+349[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+350[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+351[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+352[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+353[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+354[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+355[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+356[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+357[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+358[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+359[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+360[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+361[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+362[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+363[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+364[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+365[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+366[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+367[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+368[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+369[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+370[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+371[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+372[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+373[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+374[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+375[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+376[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+377[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+378[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+379[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+380[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+381[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+382[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+383[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+384[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+385[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+386[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+387[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+388[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+389[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+390[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+391[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+392[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+393[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+394[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+395[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+396[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+397[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+398[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+399[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+400[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+401[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+402[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+403[0m[31m -3[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+403[0m[31m -4[0m: [1m[90mloading test/protocols/bitswap_test.dart[0m [1m[31m[E][0m[0m                                                                                                                                            
  [31mFailed to load "test/protocols/bitswap_test.dart":[0m
  test/protocols/bitswap_test.dart:118:16: Error: The method 'MockP2plibRouter.sendMessage' has fewer named arguments than those of overridden method 'P2plibRouter.sendMessage'.
    Future<void> sendMessage(String peerId, Uint8List data) async {}
                 ^
  lib/src/transport/router_impl_io.dart:387:16: Context: This is the overridden method ('sendMessage').
    Future<void> sendMessage(
                 ^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/protocols/bitswap_test.dart -p vm --plain-name 'loading test/protocols/bitswap_test.dart'
00:02 [32m+403[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+403[0m[31m -4[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.652268 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.656513 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:47.656847 [INFO] [MetricsCollector] [INFO] Metrics collection started
00:02 [32m+404[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+405[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+406[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+407[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+408[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+408[0m[31m -4[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.665529 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at ./ipfs_data
2026-01-07T19:34:47.665684 [FINE] [IPLDHandler] [DEBUG] Starting IPLDHandler...
2026-01-07T19:34:47.665727 [FINE] [IPLDHandler] [VERBOSE] Initializing IPLD codecs
2026-01-07T19:34:47.665769 [FINE] [IPLDHandler] [DEBUG] IPLDHandler started successfully
2026-01-07T19:34:47.666017 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
2026-01-07T19:34:47.666331 [INFO] [IPFSNode] [INFO] Switched Gateway Mode to: GatewayMode.custom
00:02 [32m+409[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+410[0m[31m -4[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+410[0m[31m -5[0m: [1m[90mloading test/protocols/dht/dht_client_test.dart[0m [1m[31m[E][0m[0m                                                                                                                                     
  [31mFailed to load "test/protocols/dht/dht_client_test.dart":[0m
  test/protocols/dht/dht_client_test.dart:95:16: Error: The method 'MockP2plibRouter.sendMessage' has fewer named arguments than those of overridden method 'P2plibRouter.sendMessage'.
    Future<void> sendMessage(String peerId, Uint8List message) async {
                 ^
  lib/src/transport/router_impl_io.dart:387:16: Context: This is the overridden method ('sendMessage').
    Future<void> sendMessage(
                 ^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/protocols/dht/dht_client_test.dart -p vm --plain-name 'loading test/protocols/dht/dht_client_test.dart'
00:02 [32m+410[0m[31m -5[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.701085 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:47.701264 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
00:02 [32m+410[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.704099 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
00:02 [32m+410[0m[31m -5[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.705515 [INFO] [HiveDatastore] [INFO] HiveDatastore closed
2026-01-07T19:34:47.705737 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.705860 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:02 [32m+411[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+411[0m[31m -5[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.709899 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:47.710426 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:47.710521 [INFO] [MetricsCollector] [INFO] Metrics collection started
00:02 [32m+411[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.710744 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
2026-01-07T19:34:47.710863 [FINE] [NetworkHandler] [VERBOSE] Creating CircuitRelayClient with router instance
2026-01-07T19:34:47.710963 [FINE] [NetworkHandler] [VERBOSE] Setting up network event listeners
2026-01-07T19:34:47.711099 [FINE] [NetworkHandler] [VERBOSE] Setting up network event stream listener
2026-01-07T19:34:47.711201 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:47.711355 [FINE] [NetworkHandler] [DEBUG] Initializing NetworkHandler...
2026-01-07T19:34:47.711628 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.711731 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.711774 [FINE] [P2plibRouter] [VERBOSE] Initializing crypto components
00:02 [32m+411[0m[31m -5[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:47.714465 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at ./ipfs_data
2026-01-07T19:34:47.714637 [FINE] [IPLDHandler] [DEBUG] Starting IPLDHandler...
2026-01-07T19:34:47.714693 [FINE] [IPLDHandler] [VERBOSE] Initializing IPLD codecs
2026-01-07T19:34:47.714725 [FINE] [IPLDHandler] [DEBUG] IPLDHandler started successfully
2026-01-07T19:34:47.714770 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
2026-01-07T19:34:47.714915 [INFO] [IPFSNode] [INFO] Switched Gateway Mode to: GatewayMode.internal
00:02 [32m+411[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+412[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+413[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+413[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.735463 [FINE] [P2plibRouter] [VERBOSE] Crypto components initialized successfully
2026-01-07T19:34:47.735599 [FINE] [P2plibRouter] [VERBOSE] Initializing router with peer ID
2026-01-07T19:34:47.738509 [FINE] [P2plibRouter] [VERBOSE] Router initialized with peer ID: 4XmwdCiA5xs5Vp8hJnAZZSGAuTtf8Ld99ezwKQXeHz4SsuFpkTHZcHCaB42umTSNLeAvNQS7ML1dTVKxZKr3oCG
2026-01-07T19:34:47.738601 [FINE] [P2plibRouter] [DEBUG] P2plibRouter initialization complete
2026-01-07T19:34:47.738715 [FINE] [NetworkHandler] [VERBOSE] Router initialized successfully
00:02 [32m+414[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+414[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.738812 [FINE] [NetworkHandler] [VERBOSE] Setting up network event handlers
2026-01-07T19:34:47.738916 [FINE] [NetworkHandler] [VERBOSE] Event handlers configured
2026-01-07T19:34:47.738952 [FINE] [NetworkHandler] [DEBUG] NetworkHandler initialization complete
2026-01-07T19:34:47.739241 [FINE] [MDNSHandler] [DEBUG] MDNSHandler instance created
00:02 [32m+415[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+416[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+417[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+418[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+419[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+419[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.742189 [FINE] [P2plibRouter] [DEBUG] Registered protocol: pubsub
00:02 [32m+420[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+420[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.742608 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.742693 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.742744 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.742779 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.742884 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.742917 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.743030 [FINE] [BootstrapHandler] [DEBUG] Creating new BootstrapHandler instance
00:02 [32m+421[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+422[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+423[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+424[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+424[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.744425 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler instance created
2026-01-07T19:34:47.744559 [FINE] [DNSLinkHandler] [DEBUG] DNSLinkHandler instance created
00:02 [32m+425[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+425[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.744841 [FINE] [AutoNATHandler] [DEBUG] AutoNATHandler instance created
00:02 [32m+426[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+426[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.745015 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.745149 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /libp2p/circuit/relay/0.2.0/hop
00:02 [32m+427[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+427[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.745217 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /libp2p/circuit/relay/0.2.0/stop
2026-01-07T19:34:47.745266 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /libp2p/circuit/relay/0.2.0/transport
2026-01-07T19:34:47.745305 [INFO] [CircuitRelayService] [INFO] Circuit Relay Service started.
00:02 [32m+428[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+429[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+429[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.745873 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
00:02 [32m+430[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+430[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.746058 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:47.754253 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at /var/folders/ws/5s1zb70x1hn6g362hkns01980000gn/T/ipfs_e2e_test_jTCDON/datastore
2026-01-07T19:34:47.754335 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at /var/folders/ws/5s1zb70x1hn6g362hkns01980000gn/T/ipfs_e2e_test_jTCDON/datastore
2026-01-07T19:34:47.754452 [FINE] [IPLDHandler] [DEBUG] Starting IPLDHandler...
2026-01-07T19:34:47.754490 [FINE] [IPLDHandler] [VERBOSE] Initializing IPLD codecs
2026-01-07T19:34:47.754522 [FINE] [IPLDHandler] [DEBUG] IPLDHandler started successfully
2026-01-07T19:34:47.754725 [FINE] [NetworkHandler] [DEBUG] Starting network services...
2026-01-07T19:34:47.754779 [FINE] [NetworkHandler] [VERBOSE] Initializing router...
2026-01-07T19:34:47.754943 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.755021 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.758229 [FINE] [P2plibRouter] [VERBOSE] Router started successfully
2026-01-07T19:34:47.758363 [FINE] [P2plibRouter] [DEBUG] Connecting to bootstrap peers...
2026-01-07T19:34:47.758420 [FINE] [NetworkHandler] [VERBOSE] Router started successfully
2026-01-07T19:34:47.758450 [FINE] [NetworkHandler] [VERBOSE] Initializing circuit relay client...
2026-01-07T19:34:47.758519 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.758555 [FINE] [P2plibRouter] [VERBOSE] Protocol /libp2p/circuit/relay/0.2.0/hop already registered
2026-01-07T19:34:47.758601 [FINE] [NetworkHandler] [VERBOSE] Circuit relay client started successfully
2026-01-07T19:34:47.758665 [FINE] [NetworkHandler] [VERBOSE] Registering AutoNAT dialback protocol handler
2026-01-07T19:34:47.758698 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/autonat/1.0.0/dialback
2026-01-07T19:34:47.758730 [FINE] [NetworkHandler] [DEBUG] AutoNAT dialback handler registered
2026-01-07T19:34:47.758758 [INFO] [NetworkHandler] [INFO] Network services started successfully
2026-01-07T19:34:47.758871 [FINE] [MDNSHandler] [DEBUG] Starting MDNSHandler...
2026-01-07T19:34:47.761976 [FINE] [MDNSHandler] [VERBOSE] MDNS client started
2026-01-07T19:34:47.762810 [SEVERE] [MDnsClient] [ERROR] Failed to start mDNS Responder
Error: SocketException: Failed to create datagram socket (OS Error: Address already in use, errno = 48), address = 0.0.0.0, port = 5353
Stack trace: null
2026-01-07T19:34:47.763089 [FINE] [MDNSHandler] [VERBOSE] Starting peer discovery
2026-01-07T19:34:47.763278 [FINE] [MDNSHandler] [VERBOSE] Performing peer discovery
2026-01-07T19:34:47.764047 [FINE] [MDNSHandler] [VERBOSE] Starting service advertisement
2026-01-07T19:34:47.764155 [FINE] [MDNSHandler] [VERBOSE] Advertising IPFS service
2026-01-07T19:34:47.764250 [INFO] [MDNSHandler] [INFO] MDNSHandler started successfully
2026-01-07T19:34:47.764353 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.766036 [FINE] [MDNSHandler] [DEBUG] Service advertised successfully
2026-01-07T19:34:47.766145 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/kad/1.0.0
2026-01-07T19:34:47.766942 [INFO] [PubSubClient] [INFO] PubSub client started with peer ID: 4XmwdCiA5xs5Vp8hJnAZZSGAuTtf8Ld99ezwKQXeHz4SsuFpkTHZcHCaB42umTSNLeAvNQS7ML1dTVKxZKr3oCG
2026-01-07T19:34:47.767157 [FINE] [BitswapHandler] [DEBUG] Starting BitswapHandler...
2026-01-07T19:34:47.767214 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.767250 [FINE] [BitswapHandler] [VERBOSE] Router initialized
2026-01-07T19:34:47.767279 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.767312 [FINE] [BitswapHandler] [VERBOSE] Router started
2026-01-07T19:34:47.767380 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.767469 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/bitswap/1.2.0 already registered
2026-01-07T19:34:47.767504 [INFO] [BitswapHandler] [INFO] BitswapHandler started successfully
2026-01-07T19:34:47.767681 [FINE] [ContentRoutingHandler] [DEBUG] Starting ContentRoutingHandler...
2026-01-07T19:34:47.767821 [FINE] [P2plibRouter] [DEBUG] Initializing P2plibRouter...
2026-01-07T19:34:47.767854 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.769264 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/kad/1.0.0 already registered
2026-01-07T19:34:47.769350 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.769386 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/kad/1.0.0 already registered
2026-01-07T19:34:47.769428 [INFO] [ContentRouting] [INFO] Content routing started.
2026-01-07T19:34:47.769460 [FINE] [ContentRoutingHandler] [VERBOSE] DHT-based content routing started
2026-01-07T19:34:47.769488 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler started successfully
2026-01-07T19:34:47.769565 [FINE] [DNSLinkHandler] [DEBUG] Starting DNSLinkHandler...
2026-01-07T19:34:47.769638 [FINE] [DNSLinkHandler] [DEBUG] DNSLinkHandler started successfully
2026-01-07T19:34:47.769731 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/graphsync/1.0.0
2026-01-07T19:34:47.769772 [FINE] [GraphsyncHandler] [DEBUG] Starting GraphsyncHandler...
2026-01-07T19:34:47.769800 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler started successfully
2026-01-07T19:34:47.769909 [FINE] [AutoNATHandler] [DEBUG] Starting AutoNATHandler...
2026-01-07T19:34:47.769989 [FINE] [AutoNATHandler] [DEBUG] Detecting NAT type...
2026-01-07T19:34:47.770086 [FINE] [AutoNATHandler] [DEBUG] Node is directly reachable (no NAT)
2026-01-07T19:34:47.770154 [FINE] [AutoNATHandler] [VERBOSE] Starting periodic dialback tests
2026-01-07T19:34:47.770244 [FINE] [AutoNATHandler] [VERBOSE] Performing dialback test
2026-01-07T19:34:47.770332 [FINE] [NetworkHandler] [VERBOSE] Starting dialback test
2026-01-07T19:34:47.770362 [FINE] [NetworkHandler] [DEBUG] No bootstrap peers available for dialback test
2026-01-07T19:34:47.770403 [INFO] [AutoNATHandler] [INFO] AutoNATHandler started successfully
2026-01-07T19:34:47.770545 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:47.770583 [FINE] [P2plibRouter] [DEBUG] Starting router...
2026-01-07T19:34:47.770648 [FINE] [AutoNATHandler] [DEBUG] Dialback test complete. Reachable: false
2026-01-07T19:34:47.770678 [FINE] [P2plibRouter] [VERBOSE] Protocol /ipfs/kad/1.0.0 already registered
2026-01-07T19:34:47.770718 [FINE] [IPNSHandler] [VERBOSE] Subscribing to IPNS PubSub topic /ipfs/ipns-1.0.0...
2026-01-07T19:34:47.770823 [FINE] [P2plibRouter] [DEBUG] Registered protocol: /ipfs/ipns-1.0.0
2026-01-07T19:34:47.770955 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:47.770986 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
00:02 [32m+430[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+430[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.781229 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
2026-01-07T19:34:47.781344 [FINE] [AutoNATHandler] [DEBUG] Stopping AutoNATHandler...
2026-01-07T19:34:47.781580 [INFO] [NatTraversalService] [INFO] Removing port mappings for port 4001...
2026-01-07T19:34:47.781638 [INFO] [AutoNATHandler] [INFO] AutoNATHandler stopped successfully
2026-01-07T19:34:47.781701 [FINE] [GraphsyncHandler] [DEBUG] Stopping GraphsyncHandler...
2026-01-07T19:34:47.781731 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler stopped successfully
2026-01-07T19:34:47.781798 [FINE] [DNSLinkHandler] [DEBUG] Stopping DNSLinkHandler...
2026-01-07T19:34:47.781830 [FINE] [DNSLinkHandler] [DEBUG] DNSLinkHandler stopped successfully
2026-01-07T19:34:47.781898 [FINE] [ContentRoutingHandler] [DEBUG] Stopping ContentRoutingHandler...
2026-01-07T19:34:47.782181 [INFO] [ContentRouting] [INFO] Content routing stopped.
2026-01-07T19:34:47.782314 [FINE] [ContentRoutingHandler] [VERBOSE] DHT-based content routing stopped
2026-01-07T19:34:47.782347 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler stopped successfully
2026-01-07T19:34:47.784034 [INFO] [PubSubClient] [INFO] PubSub client stopped.
2026-01-07T19:34:47.784327 [WARNING] [BootstrapHandler] [WARNING] BootstrapHandler already stopped
2026-01-07T19:34:47.784416 [FINE] [MDNSHandler] [DEBUG] Stopping MDNSHandler...
2026-01-07T19:34:47.784924 [INFO] [MDNSHandler] [INFO] MDNSHandler stopped successfully
2026-01-07T19:34:47.785001 [FINE] [NetworkHandler] [DEBUG] Stopping network services...
2026-01-07T19:34:47.785245 [FINE] [NetworkHandler] [VERBOSE] Circuit relay client stopped
2026-01-07T19:34:47.785287 [FINE] [NetworkHandler] [VERBOSE] Router stopped
2026-01-07T19:34:47.785338 [FINE] [NetworkHandler] [DEBUG] Network event stream closed
2026-01-07T19:34:47.785368 [FINE] [NetworkHandler] [VERBOSE] Network event controller closed
2026-01-07T19:34:47.785396 [INFO] [NetworkHandler] [INFO] Network services stopped successfully
2026-01-07T19:34:47.785451 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:47.785479 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
2026-01-07T19:34:47.789448 [INFO] [HiveDatastore] [INFO] HiveDatastore closed
2026-01-07T19:34:47.789540 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.789627 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:02 [32m+430[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+430[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.791348 [SEVERE] [DatastoreHandler] [ERROR] Error loading pinned CIDs: Bad state: HiveDatastore not initialized. Call init() first.
2026-01-07T19:34:47.793165 [WARNING] [IPNSHandler] [WARNING] IPNSHandler already stopped
2026-01-07T19:34:47.793233 [WARNING] [AutoNATHandler] [WARNING] AutoNATHandler already stopped
2026-01-07T19:34:47.793271 [FINE] [GraphsyncHandler] [DEBUG] Stopping GraphsyncHandler...
2026-01-07T19:34:47.793298 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler stopped successfully
2026-01-07T19:34:47.793362 [FINE] [DNSLinkHandler] [DEBUG] Stopping DNSLinkHandler...
2026-01-07T19:34:47.793391 [FINE] [DNSLinkHandler] [DEBUG] DNSLinkHandler stopped successfully
2026-01-07T19:34:47.793421 [FINE] [ContentRoutingHandler] [DEBUG] Stopping ContentRoutingHandler...
2026-01-07T19:34:47.793483 [INFO] [ContentRouting] [INFO] Content routing stopped.
2026-01-07T19:34:47.793510 [FINE] [ContentRoutingHandler] [VERBOSE] DHT-based content routing stopped
2026-01-07T19:34:47.793536 [FINE] [ContentRoutingHandler] [DEBUG] ContentRoutingHandler stopped successfully
2026-01-07T19:34:47.793570 [INFO] [PubSubClient] [INFO] PubSub client stopped.
2026-01-07T19:34:47.793611 [WARNING] [BootstrapHandler] [WARNING] BootstrapHandler already stopped
2026-01-07T19:34:47.793643 [WARNING] [MDNSHandler] [WARNING] MDNSHandler already stopped
2026-01-07T19:34:47.793672 [FINE] [NetworkHandler] [DEBUG] Stopping network services...
2026-01-07T19:34:47.793722 [FINE] [NetworkHandler] [VERBOSE] Circuit relay client stopped
2026-01-07T19:34:47.793823 [FINE] [NetworkHandler] [VERBOSE] Router stopped
2026-01-07T19:34:47.793867 [FINE] [NetworkHandler] [VERBOSE] Network event controller closed
2026-01-07T19:34:47.793897 [INFO] [NetworkHandler] [INFO] Network services stopped successfully
2026-01-07T19:34:47.793933 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:47.793960 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
00:02 [32m+431[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+431[0m[31m -5[0m: test/e2e/e2e_test.dart: E2E IPFSNode Lifecycle Node starts, initializes components, and stops cleanly[0m                                                                                   
2026-01-07T19:34:47.793993 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:47.794028 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:02 [32m+432[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+433[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+434[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+435[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+436[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+437[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+438[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+439[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+440[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+441[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+442[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+443[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+444[0m[31m -5[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+444[0m[31m -6[0m: [1m[90mloading test/protocols/dht/kademlia_routing_table_test.dart[0m [1m[31m[E][0m[0m                                                                                                                         
  [31mFailed to load "test/protocols/dht/kademlia_routing_table_test.dart":[0m
  test/protocols/dht/kademlia_routing_table_test.dart:95:16: Error: The method 'MockP2plibRouter.sendMessage' has fewer named arguments than those of overridden method 'P2plibRouter.sendMessage'.
    Future<void> sendMessage(String peerId, Uint8List message) async {}
                 ^
  lib/src/transport/router_impl_io.dart:387:16: Context: This is the overridden method ('sendMessage').
    Future<void> sendMessage(
                 ^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/protocols/dht/kademlia_routing_table_test.dart -p vm --plain-name 'loading test/protocols/dht/kademlia_routing_table_test.dart'
00:02 [32m+444[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+445[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+446[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+447[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+448[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+449[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+450[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+451[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+452[0m[31m -6[0m: test/utils/dnslink_resolver_test.dart: DNSLinkResolver resolve returns null on HTTP error[0m                                                                                               00:02 [32m+453[0m[31m -6[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+453[0m[31m -7[0m: [1m[90mloading test/protocols/pubsub/gossipsub_test.dart[0m [1m[31m[E][0m[0m                                                                                                                                   
  [31mFailed to load "test/protocols/pubsub/gossipsub_test.dart":[0m
  test/protocols/pubsub/gossipsub_test.dart:84:16: Error: The method 'MockP2plibRouter.sendMessage' has fewer named arguments than those of overridden method 'P2plibRouter.sendMessage'.
    Future<void> sendMessage(String peerId, Uint8List message) async {
                 ^
  lib/src/transport/router_impl_io.dart:387:16: Context: This is the overridden method ('sendMessage').
    Future<void> sendMessage(
                 ^

[1m[36mTo run this test again:[0m /opt/homebrew/share/flutter/bin/cache/dart-sdk/bin/dart test test/protocols/pubsub/gossipsub_test.dart -p vm --plain-name 'loading test/protocols/pubsub/gossipsub_test.dart'
00:02 [32m+453[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+454[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+455[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+456[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+456[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:47.936194 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.940207 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:47.940339 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:47.941416 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
2026-01-07T19:34:47.942152 [WARNING] [IPNSHandler] [WARNING] IPNSHandler already stopped
00:02 [32m+457[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+457[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:47.945349 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:47.945623 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:47.945773 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
00:02 [32m+457[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+457[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:47.981519 [FINE] [IPNSHandler] [DEBUG] Publishing IPNS record for CID: bbkujcaygjw5prkfckbch5paaocbe4nsaksltw3zmiykzbwmh7il3gsthc with key: self
00:02 [32m+457[0m[31m -7[0m: test/protocols/graphsync_handler_test.dart: GraphsyncHandler start registers protocol handler[0m                                                                                           
2026-01-07T19:34:47.984450 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.988266 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.988356 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.988438 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.988483 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.990421 [FINE] [GraphsyncHandler] [DEBUG] Starting GraphsyncHandler...
2026-01-07T19:34:47.990472 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler started successfully
2026-01-07T19:34:47.992141 [FINE] [GraphsyncHandler] [DEBUG] Stopping GraphsyncHandler...
2026-01-07T19:34:47.992210 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler stopped successfully
00:02 [32m+458[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+458[0m[31m -7[0m: test/protocols/graphsync_handler_test.dart: GraphsyncHandler start registers protocol handler[0m                                                                                           
2026-01-07T19:34:47.995646 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:47.995707 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:47.995745 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.995788 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:47.995846 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:47.997726 [FINE] [GraphsyncHandler] [DEBUG] Starting GraphsyncHandler...
2026-01-07T19:34:47.997782 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler started successfully
00:02 [32m+458[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+458[0m[31m -7[0m: test/protocols/graphsync_handler_test.dart: GraphsyncHandler start registers protocol handler[0m                                                                                           
2026-01-07T19:34:48.003593 [FINE] [GraphsyncHandler] [DEBUG] Requesting graph for CID: bboajcaa4qlddpfqgljewfgoykjuko656mb54kxtgo2uuh3bfbuiarz64b with selector
00:02 [32m+458[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.005944 [INFO] [IPNSHandler] [INFO] Successfully published signed IPNS record for CID: bbkujcaygjw5prkfckbch5paaocbe4nsaksltw3zmiykzbwmh7il3gsthc
2026-01-07T19:34:48.006390 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
00:02 [32m+459[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+459[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.008171 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:48.008295 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:48.008342 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:48.009029 [FINE] [IPNSHandler] [DEBUG] Resolving IPNS name: TestName
2026-01-07T19:34:48.012035 [FINE] [IPNSHandler] [VERBOSE] Caching IPNS resolution for: TestName
2026-01-07T19:34:48.012159 [INFO] [IPNSHandler] [INFO] Successfully resolved IPNS name: TestName to CID: bbkujcar55fedv7c4adhyl53dnq27nu7e36z5k6bifhxf6bm54wy4wqul7
2026-01-07T19:34:48.012427 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
00:02 [32m+460[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+460[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.013917 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:48.014062 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:48.014104 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:48.014309 [FINE] [IPNSHandler] [DEBUG] Resolving IPNS name: CachedName
2026-01-07T19:34:48.014905 [FINE] [IPNSHandler] [VERBOSE] Caching IPNS resolution for: CachedName
2026-01-07T19:34:48.015080 [INFO] [IPNSHandler] [INFO] Successfully resolved IPNS name: CachedName to CID: bbkujcaoci7ztkbvzngov3yfcr6flh6f5pmugvh7o2xxus4mqfavc455tb
2026-01-07T19:34:48.015706 [FINE] [IPNSHandler] [DEBUG] Resolving IPNS name: CachedName
2026-01-07T19:34:48.016068 [FINE] [IPNSHandler] [VERBOSE] Returning cached resolution for: CachedName
2026-01-07T19:34:48.016219 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
00:02 [32m+461[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+461[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.018087 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:48.018226 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:48.018267 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:48.018354 [FINE] [IPNSHandler] [DEBUG] Publishing IPNS record for CID: Invalid CID! with key: self
2026-01-07T19:34:48.018787 [SEVERE] [IPNSHandler] [ERROR] Failed to publish IPNS record
Error: Invalid argument(s): Invalid CID format
Stack trace: #0      IPNSHandler.publish (package:dart_ipfs/src/protocols/ipns/ipns_handler.dart:100:9)
#1      main.<anonymous closure>.<anonymous closure> (file:///Users/meilynlopezcubero/IPFS/test/protocols/ipns_handler_test.dart:111:27)
<asynchronous suspension>
#2      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:253:15)
<asynchronous suspension>
#3      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:250:11)
<asynchronous suspension>
#4      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:318:9)
<asynchronous suspension>

00:02 [32m+461[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler validates CID format[0m                                                                                                                 
DEBUG: Caught expected error: Invalid argument(s): Invalid CID format
00:02 [32m+461[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.019847 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
00:02 [32m+462[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+462[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.021568 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
2026-01-07T19:34:48.021762 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:48.021803 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
2026-01-07T19:34:48.021837 [FINE] [IPNSHandler] [DEBUG] Publishing IPNS record for CID: somecid with key: self
2026-01-07T19:34:48.021904 [SEVERE] [IPNSHandler] [ERROR] Failed to publish IPNS record
Error: Bad state: Keystore is locked. Call securityManager.unlockKeystore() first.
Stack trace: #0      IPNSHandler.publish (package:dart_ipfs/src/protocols/ipns/ipns_handler.dart:105:9)
#1      main.<anonymous closure>.<anonymous closure> (file:///Users/meilynlopezcubero/IPFS/test/protocols/ipns_handler_test.dart:123:27)
<asynchronous suspension>
#2      Declarer.test.<anonymous closure>.<anonymous closure> (package:test_api/src/backend/declarer.dart:253:15)
<asynchronous suspension>
#3      Declarer.test.<anonymous closure> (package:test_api/src/backend/declarer.dart:250:11)
<asynchronous suspension>
#4      Invoker._waitForOutstandingCallbacks.<anonymous closure> (package:test_api/src/backend/invoker.dart:318:9)
<asynchronous suspension>

00:02 [32m+462[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler throws StateError when keystore is locked[0m                                                                                            
DEBUG: Caught expected error: Bad state: Keystore is locked. Call securityManager.unlockKeystore() first.
00:02 [32m+462[0m[31m -7[0m: test/protocols/ipns_handler_test.dart: IPNSHandler start and stop lifecycle[0m                                                                                                             
2026-01-07T19:34:48.022127 [INFO] [IPNSHandler] [INFO] IPNS handler stopped successfully
00:02 [32m+463[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+463[0m[31m -7[0m: test/protocols/graphsync_handler_test.dart: GraphsyncHandler start registers protocol handler[0m                                                                                           
2026-01-07T19:34:48.024922 [FINE] [GraphsyncHandler] [DEBUG] Stopping GraphsyncHandler...
2026-01-07T19:34:48.025033 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler stopped successfully
00:02 [32m+464[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+464[0m[31m -7[0m: test/protocols/graphsync_handler_test.dart: GraphsyncHandler start registers protocol handler[0m                                                                                           
2026-01-07T19:34:48.027032 [INFO] [BitswapHandler] [INFO] Initializing BitswapHandler
2026-01-07T19:34:48.027086 [FINE] [BitswapHandler] [DEBUG] Setting up Bitswap protocol handlers
2026-01-07T19:34:48.027123 [FINE] [BitswapHandler] [DEBUG] Registered protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:48.027160 [FINE] [BitswapHandler] [DEBUG] Added message handler for protocol: /ipfs/bitswap/1.2.0
2026-01-07T19:34:48.027191 [INFO] [BitswapHandler] [INFO] Bitswap protocol handlers initialized
2026-01-07T19:34:48.028881 [FINE] [GraphsyncHandler] [DEBUG] Starting GraphsyncHandler...
2026-01-07T19:34:48.028962 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler started successfully
2026-01-07T19:34:48.029714 [FINE] [GraphsyncHandler] [DEBUG] Handling cancel request for ID: 123
2026-01-07T19:34:48.031023 [FINE] [GraphsyncHandler] [DEBUG] Cancel request handled successfully for ID: 123
2026-01-07T19:34:48.031124 [FINE] [GraphsyncHandler] [DEBUG] Stopping GraphsyncHandler...
2026-01-07T19:34:48.031157 [FINE] [GraphsyncHandler] [DEBUG] GraphsyncHandler stopped successfully
00:02 [32m+465[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+466[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+467[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+468[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+469[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+470[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+471[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+472[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+473[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+474[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+474[0m[31m -7[0m: test/protocols/ipns/ipns_pubsub_test.dart: IPNS over PubSub start() subscribes to PubSub topic[0m                                                                                          
2026-01-07T19:34:48.112051 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
00:02 [32m+475[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+475[0m[31m -7[0m: test/protocols/ipns/ipns_pubsub_test.dart: IPNS over PubSub start() subscribes to PubSub topic[0m                                                                                          
2026-01-07T19:34:48.118234 [FINE] [IPNSHandler] [VERBOSE] Starting DHT handler...
2026-01-07T19:34:48.119184 [FINE] [IPNSHandler] [VERBOSE] Subscribing to IPNS PubSub topic /ipfs/ipns-1.0.0...
2026-01-07T19:34:48.119961 [INFO] [IPNSHandler] [INFO] IPNS handler started successfully
00:02 [32m+476[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+476[0m[31m -7[0m: test/protocols/ipns/ipns_pubsub_test.dart: IPNS over PubSub start() subscribes to PubSub topic[0m                                                                                          
2026-01-07T19:34:48.127693 [FINE] [IPNSHandler] [DEBUG] IPNSHandler instance created
00:02 [32m+477[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+478[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+479[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+479[0m[31m -7[0m: test/protocols/ipns/ipns_pubsub_test.dart: IPNS over PubSub start() subscribes to PubSub topic[0m                                                                                          
2026-01-07T19:34:48.153438 [FINE] [IPNSHandler] [DEBUG] Publishing IPNS record for CID: QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn with key: self
00:02 [32m+480[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+481[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+482[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+482[0m[31m -7[0m: test/protocols/ipns/ipns_pubsub_test.dart: IPNS over PubSub start() subscribes to PubSub topic[0m                                                                                          
2026-01-07T19:34:48.170637 [FINE] [IPNSHandler] [VERBOSE] Published IPNS record to topics: /ipfs/ipns-1.0.0, /record/ACCRXPW79DowCfnETehG30qC4Gnk3TdbJGwcw8dS-hUYlA
2026-01-07T19:34:48.170821 [INFO] [IPNSHandler] [INFO] Successfully published signed IPNS record for CID: QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn
00:02 [32m+483[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+484[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+485[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+485[0m[31m -7[0m: test/services/general_services_test.dart: GatewayServer start/stop[0m                                                                                                                      
2026-01-07T19:34:48.296448 [INFO] [GatewayServer] [INFO] Gateway server listening on http://localhost:50868
00:02 [32m+485[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+485[0m[31m -7[0m: test/services/general_services_test.dart: GatewayServer start/stop[0m                                                                                                                      
2026-01-07T19:34:48.300415 [INFO] [GatewayServer] [INFO] Gateway server stopped
00:02 [32m+486[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+487[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+488[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+489[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+490[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+491[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+492[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+493[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+494[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+495[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+496[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+497[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:02 [32m+498[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+498[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+499[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+500[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+501[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+502[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+503[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+504[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+504[0m[31m -7[0m: test/services/gateway_test.dart: GatewayHandler handlePath returns 404 for missing block[0m                                                                                                
2026-01-07T19:34:48.367262 [WARNING] [GatewayHandler] [WARNING] Failed to resolve IPNS name unknown: Exception: Failed
00:03 [32m+505[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+506[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+507[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+508[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+509[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+510[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+511[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+512[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+513[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+514[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:03 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:04 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:05 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:06 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:07 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:07 [32m+515[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:53.325115 [WARNING] [HttpGatewayClient] [WARNING] Failed to retrieve CID test_cid from all gateways
2026-01-07T19:34:53.325923 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:53.326082 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
2026-01-07T19:34:53.328035 [INFO] [HiveDatastore] [INFO] HiveDatastore closed
2026-01-07T19:34:53.328194 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:53.328367 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:07 [32m+516[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.internal does NOT use the gateway (for non-existent local content)[0m                                            00:07 [32m+516[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.public uses default ipfs.io logic (Integration Check)[0m                                                         00:07 [32m+516[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.custom uses the provided URL[0m                                                                                  
2026-01-07T19:34:53.333780 [FINE] [MetricsCollector] [DEBUG] MetricsCollector instance created
2026-01-07T19:34:53.334114 [FINE] [MetricsCollector] [DEBUG] Starting metrics collection...
2026-01-07T19:34:53.334242 [INFO] [MetricsCollector] [INFO] Metrics collection started
2026-01-07T19:34:53.337963 [INFO] [HiveDatastore] [INFO] HiveDatastore initialized at ./ipfs_data
2026-01-07T19:34:53.338122 [FINE] [IPLDHandler] [DEBUG] Starting IPLDHandler...
2026-01-07T19:34:53.338200 [FINE] [IPLDHandler] [VERBOSE] Initializing IPLD codecs
2026-01-07T19:34:53.338266 [FINE] [IPLDHandler] [DEBUG] IPLDHandler started successfully
2026-01-07T19:34:53.338365 [INFO] [IPFSNode] [INFO] IPFS Node started successfully
2026-01-07T19:34:53.338622 [INFO] [IPFSNode] [INFO] Switched Gateway Mode to: GatewayMode.public
2026-01-07T19:34:53.639802 [WARNING] [HttpGatewayClient] [WARNING] Gateway https://ipfs.io/ipfs returned 500
2026-01-07T19:34:53.640447 [FINE] [IPLDHandler] [DEBUG] Stopping IPLDHandler...
2026-01-07T19:34:53.640609 [FINE] [IPLDHandler] [DEBUG] IPLDHandler stopped successfully
2026-01-07T19:34:53.642723 [INFO] [HiveDatastore] [INFO] HiveDatastore closed
2026-01-07T19:34:53.642910 [FINE] [MetricsCollector] [DEBUG] Stopping metrics collection
2026-01-07T19:34:53.643051 [INFO] [IPFSNode] [INFO] IPFS Node stopped successfully
00:08 [32m+517[0m[31m -7[0m: test/gateway_selector_test.dart: Gateway Selector Integration GatewayMode.public uses default ipfs.io logic (Integration Check)[0m                                                         00:08 [32m+517[0m[31m -7[0m: [31mSome tests failed.[0m                                                                                                                                                                      
